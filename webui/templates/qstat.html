{% extends "layout.html" %}
{% from "_helper.html" import image_button %}
{% block content %}

<table>
  <tr>
    <th colspan="1"> Cloud Mesh </th>  
    <th colspan="4">
      {{ image_button ("none", "365_restart", "/table/") }}
      &nbsp;
      {{ image_button ("none", "041_charts", "/table/") }}
      &nbsp;     
      {{ image_button ("none", "044_keys", "/keys/" ) }}
      &nbsp;     
      {{ image_button ("none", "088_adress_book", "/profile/" ) }}

    </th>
    <th colspan="1">
      {{ image_button ("right", "016_bin", "/cm/kill/") }}
    </th>
  </tr>
  <tr> <td> Updated </td>  <td colspan=8> {{ updated }} </td></tr>
  <tr>
	<th> Queue   </th>
	<!-- <th> Server   </th> -->
	<th> State   </th>
	<th> Name   </th>
	<th> Owner   </th>
	<th> NCpus   </th>
	<th> Walltime   </th>
	<th> Nodes   </th>
	<th> Nodect   </th>
  </tr>


  {% for jobname in qstat %}
      {% set job = qstat[jobname] %}
      <tr>
	<td> {{job.queue }}  </td>
	<!-- <td> {{job.server }}  </td> -->
	<td> {{job.job_state }}  </td>
	<td> {{job.Job_Name }}  </td>
	<td> {{job.Job_Owner.split("@")[0] }}  </td>
	<td> {{job.Resource_List.ncpus }}  </td>
	<td> {{job.Resource_List.walltime }}  </td>
	<td> {{job.Resource_List.nodes }}  </td>
	<td> {{job.Resource_List.nodect }}  </td>
	

      </tr>
	
  {% endfor %}
  
</table>

{% endblock %}

<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4.3. Cloudmesh Shell Rain &mdash; my Cloudmesh Core documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.2.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.2.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/my-styles.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     'Core',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="_static/cm-logo.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="my Cloudmesh Core documentation" href="index.html" />
    <link rel="up" title="4. Cloudmesh Shell" href="shell.html" />
    <link rel="next" title="4.4. cm-manage" href="cm-manage.html" />
    <link rel="prev" title="4.1. Cloudmesh Shell" href="cm-shell.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

   

      
   


  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><img src="_static/cm-color-logo-24.png">
          Cloudmesh</a>
        <span class="navbar-text navbar-version pull-left"><b>Core</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="about.html">1. Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="about.html#system-monitoring-and-operations">1.1. System Monitoring and Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="about.html#user-and-project-services">1.2. User and Project Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="about.html#accounting-and-app-store">1.3. Accounting and App Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="about.html#networking">1.4. Networking</a></li>
<li class="toctree-l3"><a class="reference internal" href="about.html#monitoring">1.5. Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="about.html#role-and-use-of-standards-and-open-source-software">1.6. Role and Use of Standards and Open Source Software</a></li>
<li class="toctree-l3"><a class="reference internal" href="about.html#features">1.7. Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="about.html#bugs">1.8. Bugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="about.html#project-contributors">1.9. Project Contributors</a></li>
<li class="toctree-l3"><a class="reference internal" href="about.html#history">1.10. History</a><ul>
<li class="toctree-l4"><a class="reference internal" href="about.html#cloudmesh-0-1">1.10.1. Cloudmesh 0.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="about.html#cloudmesh-0-2">1.10.2. Cloudmesh 0.2</a></li>
<li class="toctree-l4"><a class="reference internal" href="about.html#cloudmesh-0-3">1.10.3. Cloudmesh 0.3</a></li>
<li class="toctree-l4"><a class="reference internal" href="about.html#cloudmesh-0-4">1.10.4. Cloudmesh 0.4</a></li>
<li class="toctree-l4"><a class="reference internal" href="about.html#cloudmesh-0-5-0-7">1.10.5. Cloudmesh 0.5 - 0.7</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rain.html">2. Rain</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpc.html">3. HPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="cloud.html">4. IaaS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cloud.html#interfaces">4.1. Interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="cloud.html#integration-of-external-clouds">4.2. Integration of External Clouds</a></li>
<li class="toctree-l3"><a class="reference internal" href="cloud.html#open-source">4.3. Open Source</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="contact.html">5. Contact</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contact.html#contributors">5.1. Contributors</a></li>
<li class="toctree-l3"><a class="reference internal" href="contact.html#alumni">5.2. Alumni</a></li>
<li class="toctree-l3"><a class="reference internal" href="contact.html#blog">5.3. Blog</a></li>
<li class="toctree-l3"><a class="reference internal" href="contact.html#repository">5.4. Repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="contact.html#support">5.5. Support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="news.html">6. News</a></li>
<li class="toctree-l2"><a class="reference internal" href="screenshots.html">7. Screenshots</a><ul>
<li class="toctree-l3"><a class="reference internal" href="screenshots.html#cloud-management">7.1. Cloud Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="screenshots.html#provisioning-raining-not-yet-released">7.2. Provisioning/Raining (Not yet released)</a></li>
<li class="toctree-l3"><a class="reference internal" href="screenshots.html#batch-queues">7.3. Batch Queues</a></li>
<li class="toctree-l3"><a class="reference internal" href="screenshots.html#status">7.4. Status</a></li>
<li class="toctree-l3"><a class="reference internal" href="screenshots.html#inventory">7.5. Inventory</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bib.html">8. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html">9. FAQ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="faq.html#are-there-any-screenshots">9.1. Are there any screenshots?</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#setup-register-cloud-in-the-cloudmesh-futuregrid-org-service">9.2. Setup - Register cloud in the cloudmesh.futuregrid.org service</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#setup-local-deploy">9.3. Setup - Local deploy</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#general-questions">9.4. General Questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html#development-questions">9.5. Development Questions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">1. Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="developer.html">1.1. Prepare the Environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="developer.html#github">1.1.1. Github</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer.html#github-ssh-keys">1.1.1.1. Github ssh keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer.html#git-username-and-e-mail">1.1.1.2. Git username and e-mail</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#getting-the-cloudmesh-source-code">1.1.2. Getting the Cloudmesh Source Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#preparing-the-system">1.1.3. Preparing the system</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer.html#modify-your-rc-file">1.1.3.1. Modify your rc file:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#install-the-requirements">1.1.4. Install the Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#creating-an-initial-user">1.1.5. Creating an initial user</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#initial-documentation">1.1.6. Initial Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#quickinstall-the-environment">1.1.7. Quickinstall the Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#initial-yaml-files">1.1.8. Initial YAML files</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#install-cloudmesh-code">1.1.9. Install cloudmesh code</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer.html#the-cloudmesh-yaml-file">1.1.9.1. The cloudmesh.yaml file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#mongo-db">1.1.10. Mongo-Db</a><ul>
<li class="toctree-l4"><a class="reference internal" href="developer.html#list-of-commands-optional">1.1.10.1. List of Commands(Optional)</a></li>
<li class="toctree-l4"><a class="reference internal" href="developer.html#mongo-commands-that-need-to-be-issued-important">1.1.10.2. Mongo commands that need to be issued (Important)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#starting-the-web-service">1.1.11. Starting the Web Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#starting-and-testing-the-queue-service">1.1.12. Starting and testing the Queue Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#blockdiag-family">1.1.13. Blockdiag family</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#developer-tests">1.1.14. Developer Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#install-python">1.1.15. Install Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#starting-the-rabbitmq-service">1.1.16. Starting the  RabbitMQ service</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#example-start-the-gui-for-development">1.1.17. Example: Start the GUI for development</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#with-access-to-ldap">1.1.18. With access to LDAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#without-access-to-ldap">1.1.19. Without access to LDAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#cloudmesh-deployment">1.1.20. Cloudmesh deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#imports-in-cloudmesh-common">1.1.21. Imports in cloudmesh_common</a></li>
<li class="toctree-l3"><a class="reference internal" href="developer.html#osx-system-preparation-tips">1.1.22. OSX System preparation Tips</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cobbler.html">1.2. Cloudmesh Installation wit Cobbler Integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cobbler.html#install-ubuntu-14-04">1.2.1. Install Ubuntu 14.04</a></li>
<li class="toctree-l3"><a class="reference internal" href="cobbler.html#prepare-the-system">1.2.2. Prepare the system</a></li>
<li class="toctree-l3"><a class="reference internal" href="cobbler.html#install-cloudmesh">1.2.3. Install Cloudmesh</a></li>
<li class="toctree-l3"><a class="reference internal" href="cobbler.html#cobbler">1.2.4. Cobbler</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="celery.html">1.3. Celery Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="celery.html#starting-and-stopping-celery">1.3.1. Starting and Stopping Celery</a></li>
<li class="toctree-l3"><a class="reference internal" href="celery.html#log-and-pid-files">1.3.2. Log and Pid Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="celery.html#current-celery-based-tasks-under-development">1.3.3. Current Celery Based Tasks (Under Development)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="celery.html#launcher-simulation">1.3.3.1. Launcher (Simulation)</a></li>
<li class="toctree-l4"><a class="reference internal" href="celery.html#provisioner">1.3.3.2. Provisioner</a></li>
<li class="toctree-l4"><a class="reference internal" href="celery.html#pbs-qstat">1.3.3.3. pbs (qstat)</a></li>
<li class="toctree-l4"><a class="reference internal" href="celery.html#rain-bare-metal-provisioning-with-cobbler-and-rain">1.3.3.4. rain (bare-metal provisioning with cobbler and rain)</a></li>
<li class="toctree-l4"><a class="reference internal" href="celery.html#rack-system-temperatures">1.3.3.5. rack (system temperatures)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configure.html">2. Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configure.html#cloudmesh-yaml">2.1. cloudmesh.yaml</a></li>
<li class="toctree-l2"><a class="reference internal" href="configure.html#configuration-file-rc-file">2.2. Configuration file (rc file)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="configure.html#retrieval-of-rc-file-by-command">2.2.1. Retrieval of rc file by command</a></li>
<li class="toctree-l3"><a class="reference internal" href="configure.html#retrieval-of-rc-files-by-hand">2.2.2. Retrieval of rc files by Hand</a></li>
<li class="toctree-l3"><a class="reference internal" href="configure.html#location-of-rc-files">2.2.3. Location of rc files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="configure.html#hp-cloud">2.2.3.1. HP Cloud</a></li>
<li class="toctree-l4"><a class="reference internal" href="configure.html#azure">2.2.3.2. Azure</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configure.html#amazon-web-services">2.3. Amazon Web Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="configure.html#cloudmesh-server-yaml">2.4. cloudmesh-server.yaml</a></li>
<li class="toctree-l2"><a class="reference internal" href="configure.html#cloudmesh-cluster-yaml">2.5. cloudmesh_cluster.yaml</a></li>
<li class="toctree-l2"><a class="reference internal" href="configure.html#other-yaml-files">2.6. Other Yaml files</a></li>
<li class="toctree-l2"><a class="reference internal" href="configure.html#me-sample">2.7. Me Sample</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="doc.html">3. Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc.html#creating-the-documentation">3.1. Creating the Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.html#creating-the-documentation-in-a-single-page">3.2. Creating the documentation in a single page</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.html#documenting-the-code">3.3. Documenting the code</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="shell.html">4. Cloudmesh Shell</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cm-shell.html">4.1. Cloudmesh Shell</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cm-shell.html#commandline">4.1.1. Commandline</a></li>
<li class="toctree-l3"><a class="reference internal" href="cm-shell.html#shell-usage">4.1.2. Shell Usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cm-shell.html#command-overview">4.2. Command Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cm-shell.html#help">4.2.1. Help</a></li>
<li class="toctree-l3"><a class="reference internal" href="cm-shell.html#info">4.2.2. Info</a></li>
<li class="toctree-l3"><a class="reference internal" href="cm-shell.html#variables">4.2.3. Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="cm-shell.html#defaults">4.2.4. Defaults</a></li>
<li class="toctree-l3"><a class="reference internal" href="cm-shell.html#managing-users">4.2.5. Managing Users</a></li>
<li class="toctree-l3"><a class="reference internal" href="cm-shell.html#managing-clouds">4.2.6. Managing Clouds</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cm-shell.html#register-a-cloud">4.2.6.1. Register a cloud</a></li>
<li class="toctree-l4"><a class="reference internal" href="cm-shell.html#activate-cloud">4.2.6.2. Activate cloud</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cm-shell.html#managing-projects">4.2.7. Managing Projects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cm-shell.html#project-list">4.2.7.1. Project List</a></li>
<li class="toctree-l4"><a class="reference internal" href="cm-shell.html#project-information">4.2.7.2. Project Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="cm-shell.html#project-activation">4.2.7.3. Project Activation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cm-shell.html#managing-keys">4.2.8. Managing Keys</a></li>
<li class="toctree-l3"><a class="reference internal" href="cm-shell.html#managing-images">4.2.9. Managing Images</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cm-shell.html#list-images">4.2.9.1. List images</a></li>
<li class="toctree-l4"><a class="reference internal" href="cm-shell.html#image-information">4.2.9.2. Image information</a></li>
<li class="toctree-l4"><a class="reference internal" href="cm-shell.html#default-image">4.2.9.3. Default image</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cm-shell.html#managing-flavors">4.2.10. Managing Flavors</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cm-shell.html#list-flavors">4.2.10.1. List Flavors</a></li>
<li class="toctree-l4"><a class="reference internal" href="cm-shell.html#flavor-information">4.2.10.2. Flavor information</a></li>
<li class="toctree-l4"><a class="reference internal" href="cm-shell.html#default-flavor">4.2.10.3. Default Flavor</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cm-shell.html#managing-virtual-machines">4.2.11. Managing Virtual Machines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cm-shell.html#starting-vms">4.2.11.1. Starting VMs</a><ul>
<li class="toctree-l5"><a class="reference internal" href="cm-shell.html#vm-history">4.2.11.1.1. VM History</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="cm-shell.html#managing-security-groups">4.2.11.2. Managing Security Groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="cm-shell.html#managing-volumes">4.2.11.3. Managing Volumes</a></li>
<li class="toctree-l4"><a class="reference internal" href="cm-shell.html#managing-heat-s-for-openstack">4.2.11.4. Managing heat&#8217;s for OpenStack</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cm-shell.html#id1">4.2.12. Managing Security Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="cm-shell.html#examples">4.2.13. Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="cm-shell.html#todo-most-likely-in-cloud-command-and-register-command">4.2.14. TODO (most likely in cloud command and register command)</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="">4.3. Cloudmesh Shell Rain</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#managing-servers-hosts">4.3.1. Managing Servers/hosts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-project-and-role-policies">4.3.2. User, Project and Role Policies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#information">4.3.3. Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#provisioning">4.3.4. Provisioning</a></li>
<li class="toctree-l3"><a class="reference internal" href="#status">4.3.5. Status</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reservation-interface-extension">4.3.6. Reservation Interface (extension)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#time-format">4.3.7. Time Format</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cm-manage.html">4.4. cm-manage</a></li>
<li class="toctree-l2"><a class="reference internal" href="man/man.html">4.5. Commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#eof">4.5.1. EOF</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#admin">4.5.2. admin</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#banner">4.5.3. banner</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#clear">4.5.4. clear</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#cloud">4.5.5. cloud</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#cluster">4.5.6. cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#color">4.5.7. color</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#debug">4.5.8. debug</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#default">4.5.9. default</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#dot2">4.5.10. dot2</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#edit">4.5.11. edit</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#exec">4.5.12. exec</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#exp">4.5.13. exp</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#flavor">4.5.14. flavor</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#graphviz">4.5.15. graphviz</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#group">4.5.16. group</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#help">4.5.17. help</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#image">4.5.18. image</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#info">4.5.19. info</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#init">4.5.20. init</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#inventory">4.5.21. inventory</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#key">4.5.22. key</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#label">4.5.23. label</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#launcher">4.5.24. launcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#limits">4.5.25. limits</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#list">4.5.26. list</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#load">4.5.27. load</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#loglevel">4.5.28. loglevel</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#man">4.5.29. man</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#metric">4.5.30. metric</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#notebook">4.5.31. notebook</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#nova">4.5.32. nova</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#open">4.5.33. open</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#pause">4.5.34. pause</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#plugins">4.5.35. plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#project">4.5.36. project</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#py">4.5.37. py</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#q">4.5.38. q</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#qstat">4.5.39. qstat</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#quit">4.5.40. quit</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#quota">4.5.41. quota</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#rain">4.5.42. rain</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#register">4.5.43. register</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#script">4.5.44. script</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#security-group">4.5.45. security_group</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#setup-yaml">4.5.46. setup_yaml</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#ssh">4.5.47. ssh</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#stack">4.5.48. stack</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#status">4.5.49. status</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#storm">4.5.50. storm</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#timer">4.5.51. timer</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#usage">4.5.52. usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#use">4.5.53. use</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#user">4.5.54. user</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#var">4.5.55. var</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#verbose">4.5.56. verbose</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#version">4.5.57. version</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#vm">4.5.58. vm</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#volume">4.5.59. volume</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#web">4.5.60. web</a></li>
<li class="toctree-l3"><a class="reference internal" href="man/man.html#yaml">4.5.61. yaml</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="metric.html">5. Cloudmesh Metric</a><ul>
<li class="toctree-l2"><a class="reference internal" href="metric.html#routes">5.1. Routes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">6. Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tasks.html">6.1. Issue Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tasks.html#labels">6.1.1. Labels</a></li>
<li class="toctree-l3"><a class="reference internal" href="tasks.html#priority">6.1.2. Priority</a></li>
<li class="toctree-l3"><a class="reference internal" href="tasks.html#inactivity">6.1.3. Inactivity</a></li>
<li class="toctree-l3"><a class="reference internal" href="tasks.html#shortcuts">6.1.4. Shortcuts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="coding.html">6.2. Cloudmesh Style Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="coding.html#information">6.2.1. Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="coding.html#general">6.2.2. General</a></li>
<li class="toctree-l3"><a class="reference internal" href="coding.html#imports">6.2.3. Imports</a></li>
<li class="toctree-l3"><a class="reference internal" href="coding.html#human-alphabetical-order-examples">6.2.4. Human Alphabetical Order Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="coding.html#docstrings">6.2.5. Docstrings</a></li>
<li class="toctree-l3"><a class="reference internal" href="coding.html#dictionaries-lists">6.2.6. Dictionaries/Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="coding.html#calling-methods">6.2.7. Calling Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="coding.html#internationalization-i18n-strings">6.2.8. Internationalization (i18n) Strings</a></li>
<li class="toctree-l3"><a class="reference internal" href="coding.html#python-3-x-compatibility">6.2.9. Python 3.x compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="coding.html#creating-unit-tests">6.2.10. Creating Unit Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="coding.html#running-tests">6.2.11. Running Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="coding.html#commit-messages">6.2.12. Commit Messages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hacking.html">6.3. Tips for Editing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hacking.html#aptana-studio-develpment-environment-optional">6.3.1. Aptana Studio - Develpment Environment(optional)</a></li>
<li class="toctree-l3"><a class="reference internal" href="hacking.html#emacs-as-editor">6.3.2. Emacs as editor</a></li>
<li class="toctree-l3"><a class="reference internal" href="hacking.html#replace-text-in-many-files-from-the-commandline">6.3.3. Replace Text in many files from the commandline</a></li>
<li class="toctree-l3"><a class="reference internal" href="hacking.html#mongodb-tools">6.3.4. MongoDB Tools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="hacking.html#robomongo">6.3.4.1. Robomongo</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="hacking.html#python-tools">6.3.5. Python Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="hacking.html#git-pull-request">6.3.6. Git Pull Request</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vagrant.html">6.4. Cloudmesh Vagrant Developers Environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="vagrant.html#vagrant">6.4.1. Vagrant</a></li>
<li class="toctree-l3"><a class="reference internal" href="vagrant.html#veewee">6.4.2. Veewee</a></li>
<li class="toctree-l3"><a class="reference internal" href="vagrant.html#creating-a-cloudmesh-test">6.4.3. Creating a cloudmesh test</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">7. Appendix</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cm-shell-new.html">7.1. Proposed Commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cm-shell-new.html#label">7.1.1. Label</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="deploy.html">7.2. Production Deployment Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="deploy.html#instalation">7.2.1. Instalation</a></li>
<li class="toctree-l3"><a class="reference internal" href="deploy.html#starting-the-deployed-server">7.2.2. Starting the deployed server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fg.html">7.3. FutureGrid Specific tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="old-cm/cm.html">7.4. CM</a></li>
<li class="toctree-l2"><a class="reference internal" href="old-cm/cm.html#using-cloud-mesh">7.5. Using Cloud Mesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="old-cm/cm_cli.html">7.6. cloudmesh command</a></li>
<li class="toctree-l2"><a class="reference internal" href="old-cm/cmcli.html">7.7. cm config</a></li>
<li class="toctree-l2"><a class="reference internal" href="old-cm/intro.html">7.8. Cloud Mesh</a><ul>
<li class="toctree-l3"><a class="reference internal" href="old-cm/intro.html#commands">7.8.1. Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cloudmesh.html">7.9. Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cloudmesh.html#system-monitoring-and-operations">7.9.1. System Monitoring and Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="cloudmesh.html#user-and-project-services">7.9.2. User and Project Services</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cloudmesh.html#accounting-and-app-store">7.9.2.1. Accounting and App Store</a></li>
<li class="toctree-l4"><a class="reference internal" href="cloudmesh.html#networking">7.9.2.2. Networking</a></li>
<li class="toctree-l4"><a class="reference internal" href="cloudmesh.html#monitoring">7.9.2.3. Monitoring</a></li>
<li class="toctree-l4"><a class="reference internal" href="cloudmesh.html#role-and-use-of-standards-and-open-source-software">7.9.2.4. Role and Use of Standards and Open Source Software</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="futuregrid.html">7.10. FutureGrid</a></li>
<li class="toctree-l2"><a class="reference internal" href="plan/design.html">7.11. Design: Blueprint</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plan/design.html#features">7.11.1. Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="plan/design.html#difference-to-other-efforts">7.11.2. Difference to other efforts</a></li>
<li class="toctree-l3"><a class="reference internal" href="plan/design.html#component-view">7.11.3. Component View</a></li>
<li class="toctree-l3"><a class="reference internal" href="plan/design.html#component-user-management">7.11.4. Component User Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="plan/design.html#user-management">7.11.5. User Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="plan/design.html#accounting-will-not-be-worked-on-much">7.11.6. Accounting (Will not be worked on much)</a></li>
<li class="toctree-l3"><a class="reference internal" href="plan/design.html#component-resource-management-includes-cloudshifting-as-part-of-reservation">7.11.7. Component Resource Management (includes cloudshifting as part of reservation)</a></li>
<li class="toctree-l3"><a class="reference internal" href="plan/design.html#resource-management">7.11.8. Resource Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="plan/design.html#scheduler">7.11.9. Scheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="plan/design.html#interfaces">7.11.10. Interfaces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plan/mock.html">7.12. Mockup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plan/mock.html#create-user">7.12.1. create_user</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plan/plan.html">7.13. Plan: Cloudmesh Service Shift</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plan/plan.html#project-objectives">7.13.1. Project Objectives</a></li>
<li class="toctree-l3"><a class="reference internal" href="plan/plan.html#development-objectives">7.13.2. Development Objectives</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plan/plan.html#production-objectives">7.13.2.1. Production Objectives</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plan/plan.html#project-deliverables">7.13.3. Project Deliverables</a></li>
<li class="toctree-l3"><a class="reference internal" href="plan/plan.html#evolution-of-the-project">7.13.4. Evolution of the Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="plan/plan.html#refernce-materials">7.13.5. Refernce Materials</a></li>
<li class="toctree-l3"><a class="reference internal" href="plan/plan.html#definitions-and-acronyms">7.13.6. Definitions and Acronyms</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="user.html">7.14. Cloudmesh Shell</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user.html#user-commands">7.14.1. User Commands</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">4.3. Cloudmesh Shell Rain</a><ul>
<li><a class="reference internal" href="#managing-servers-hosts">4.3.1. Managing Servers/hosts</a></li>
<li><a class="reference internal" href="#user-project-and-role-policies">4.3.2. User, Project and Role Policies</a></li>
<li><a class="reference internal" href="#information">4.3.3. Information</a></li>
<li><a class="reference internal" href="#provisioning">4.3.4. Provisioning</a></li>
<li><a class="reference internal" href="#status">4.3.5. Status</a></li>
<li><a class="reference internal" href="#reservation-interface-extension">4.3.6. Reservation Interface (extension)</a></li>
<li><a class="reference internal" href="#time-format">4.3.7. Time Format</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="cm-shell.html" title="Previous Chapter: 4.1. Cloudmesh Shell"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; 4.1. Cloudmesh S...</span>
    </a>
  </li>
  <li>
    <a href="cm-manage.html" title="Next Chapter: 4.4. cm-manage"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">4.4. cm-manage &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/cm-shell-rain.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Site Contents</h4>

<ul>
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configure.html">2. Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc.html">3. Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="shell.html">4. Cloudmesh Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="metric.html">5. Cloudmesh Metric</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">6. Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">7. Appendix</a></li>
</ul>

</ul>

<hr>

<h4>Page Contents</h4><ul>
<li><a class="reference internal" href="#">4.3. Cloudmesh Shell Rain</a><ul>
<li><a class="reference internal" href="#managing-servers-hosts">4.3.1. Managing Servers/hosts</a></li>
<li><a class="reference internal" href="#user-project-and-role-policies">4.3.2. User, Project and Role Policies</a></li>
<li><a class="reference internal" href="#information">4.3.3. Information</a></li>
<li><a class="reference internal" href="#provisioning">4.3.4. Provisioning</a></li>
<li><a class="reference internal" href="#status">4.3.5. Status</a></li>
<li><a class="reference internal" href="#reservation-interface-extension">4.3.6. Reservation Interface (extension)</a></li>
<li><a class="reference internal" href="#time-format">4.3.7. Time Format</a></li>
</ul>
</li>
</ul>

<form action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
<div id="sourcelink">
  <a href="_sources/cm-shell-rain.txt"
     rel="nofollow">Source</a>
</div>
        </div>
      </div>
    <div class="col-md-9">
      
  <div class="section" id="cloudmesh-shell-rain">
<h1>4.3. Cloudmesh Shell Rain<a class="headerlink" href="#cloudmesh-shell-rain" title="Permalink to this headline">¶</a></h1>
<p>Rain provides the elementary functionality to enable bare metal provisioning for compute resources. To find out more about the command you can say:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cm</span><span class="o">&gt;</span> <span class="n">rain</span> <span class="o">-</span><span class="n">help</span>
</pre></div>
</div>
<p>This will print you a help message about the rain command.</p>
<div class="section" id="managing-servers-hosts">
<h2>4.3.1. Managing Servers/hosts<a class="headerlink" href="#managing-servers-hosts" title="Permalink to this headline">¶</a></h2>
<p>To add hosts to the system we can use either <code class="docutils literal"><span class="pre">.json</span></code> or <code class="docutils literal"><span class="pre">.cfg</span></code> files. The file extension will indicate which format is chosen. Thus we can add resources with:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admin add -file spec.json
</pre></div>
</div>
<p>and:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admin add i001 -file spec.json
</pre></div>
</div>
<p>Adding hosts can be augmented with a label option following the add command to overwrite the label information in the file. However in this case there must only be one host defined in the configuration file. In case multiple hosts are defined the label must be defined within each host object.</p>
<p>In case you like to use an attribute name pair defining the objects, you can do so. Multiple entries are separated by an empty line in this case:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admin add -file spec.cfg
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">include here details of file with attribute:value</p>
</div>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admin on i001
</pre></div>
</div>
<p>adds to the bare metal provisining machines the machine identified in the inventory by the label i001</p>
<p>Sometimes it may be necessary to delete a specific host. This can be done by deleting it by label. Host lists can be used as a parameter. Thus:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admin delete i001
</pre></div>
</div>
<p>would delete the host with the label001 and:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admin delete i[001-003],i007
</pre></div>
</div>
<p>would delete hosts i001,i002, i003, and i007.</p>
<p>In some cases you may wish to remove the ability of a host to conduct bare metal provisioning all together, or enable it if it was previously disabled.:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admin off i001
</pre></div>
</div>
<p>would disable the host with the label i001 for bare metal provisioning. The disable and enable command can also specify host lists:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admn off i[001-010]
</pre></div>
</div>
<p>To enable hosts you can say:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admin on i[001-010]
</pre></div>
</div>
<p>The enable and disable commands are restricted to the users with administrative role. No other user can enable and disable hosts.</p>
<p>Naturally we also want to see a list of hosts and their attributes. You can specify the return format to json or cfg. This can be done either by setting a prefered return format in the shell with:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; set format=json
</pre></div>
</div>
<p>and than using the command:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admin list
</pre></div>
</div>
<p>or specifying it explicitly to overwrite the default:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admin list --format=json
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admin list --format=cfg
</pre></div>
</div>
<p>To retrieve a specific set of nodes one can use a hostlist as parameter to the label argument:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admin list i[001-003]
</pre></div>
</div>
<p>which then returns the information of the hosts with label i001, i002, and i003. To retrieve the information about a specific host we just use a specific host label as part of the label parameter such as:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admin list i001
</pre></div>
</div>
</div>
<div class="section" id="user-project-and-role-policies">
<h2>4.3.2. User, Project and Role Policies<a class="headerlink" href="#user-project-and-role-policies" title="Permalink to this headline">¶</a></h2>
<p>An important aspect of rain is that bare metal provisioning of resources is defined by projects, roles, or usernames. policies can be easily defined. For example the command:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admin policy i[001-003] users=gregor,fugang,heng
</pre></div>
</div>
<p>will give the users gregor, heng and fugang the right to bare metal provision the resources i001, i002, and i003. The users must coordinate among themselves how to use bare metal provisioning on them.</p>
<p>In the same way we can define to grant access by project. Thus the command:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admin policy i[001-003] projects=fg82,fg355
</pre></div>
</div>
<p>will grant all users from project fg82 and fg355 bare metal provisioning access to the thre hosts.</p>
<p>Setting user policies is only allowed by the administrator. Please note that a policy may overwrite another policy. for a given node</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">roles are not yet supported</p>
</div>
<p>In addition to users and project, we can also define policies by roles. An administrator cen define arbitrary roles and add users and projects to the roles, while using regular expressions, thus I can define users for a particular role. An example would be:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain --role group_a -rule “(project=fg82,fg355) and not (user=gregor,fugang)”
</pre></div>
</div>
<p>This would define a group of users that contains all users from project fg82 and fg355, but not the user gregor and fugang. Please note that hostlists are used to define the attributes. Thus I also could say “project=fg10-fg100” to indicate all projects between these project numbers. Also note that I can use the attributes as many times as I like in the regular expression.</p>
<p>Once a role is defined I can use it as part of our bare metal provisioning policies. Thus the command:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain -label i001-i003  -policy role=group_a
</pre></div>
</div>
<p>would define that the three resources can be provisioned by the users identified by the role specifying group_a</p>
</div>
<div class="section" id="information">
<h2>4.3.3. Information<a class="headerlink" href="#information" title="Permalink to this headline">¶</a></h2>
<p>Once policies are defined it is often a good idea to return information about it. Thus the command:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain list --projects=fg82
</pre></div>
</div>
<p>Would return all host that project fg82 has control over. Howvefer if the user executing this command is not in project fg82, he will get a message that he is not authorized to retrieve this information.</p>
<p>To see all policies for for a user using the shell, he could just use the command:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain list
</pre></div>
</div>
<p>Which provides an overview about which hosts the use logged into <code class="docutils literal"><span class="pre">cm</span></code> can use.</p>
<p>Naturally administrators can see more information, thus the command:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain list projects
</pre></div>
</div>
<p>lists all projects that have access to bare metal and its servers. And:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain list users
</pre></div>
</div>
<p>lists all servers that can be provisined by user</p>
</div>
<div class="section" id="provisioning">
<h2>4.3.4. Provisioning<a class="headerlink" href="#provisioning" title="Permalink to this headline">¶</a></h2>
<p>Now that we know how to manage access to bare metal provisioning, we need to identify how to actually do it. The first thing we have to define is a rain descriptor that for example defines the operating system image, and how to start that image on the node. In case of centos, for example a kickstart file can be used.</p>
<p>Thus we can define a template such as:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain template -label my-centos “-os centos -distro &lt;imagename&gt; -kickstart &lt;kickstartname&gt;”
</pre></div>
</div>
<p>Now we can reuse this template by specifying the hosts on which I try to apply the template. This is done with:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain -host i001-i003 my-centos
</pre></div>
</div>
<p>To list the available templates you can say:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain template -list
</pre></div>
</div>
<p>To list more information about a specific template, please just add the template name:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain template -list my-centos
</pre></div>
</div>
</div>
<div class="section" id="status">
<h2>4.3.5. Status<a class="headerlink" href="#status" title="Permalink to this headline">¶</a></h2>
<p>Naturally an important feature is to observe the status of the bare metal provisioning, where:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain status
</pre></div>
</div>
<p>lists me the status of all rain activities I do and:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain status i[001-003]
</pre></div>
</div>
<p>limits the information to the three specified machines.</p>
<p>As this information may be plentiful, we have provides to the status command some reduced options. This includes:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain status short
</pre></div>
</div>
<p>which prints out a</p>
<div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">+</span></code> for each resource for which raining succeeded,</div>
<div class="line"><code class="docutils literal"><span class="pre">-</span></code> for each resource that has failed</div>
<div class="line"><code class="docutils literal"><span class="pre">.</span></code> for each resource that is still in progress and a the status is unkown</div>
</div>
<p>For hundrets of rain activities, this may be an important feature, NAturally the label attribute can be specified to restrict the hosts reported upon:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain status --short i[001-003]
</pre></div>
</div>
<p>An alternative format is the summary format that simply list counts for the hosts in the various categories:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain status --summary i[001-020]
</pre></div>
</div>
<p>prints something like:</p>
<div class="highlight-python"><div class="highlight"><pre>provisioned:  3
failed:      10
in progress:  7
total:       20
</pre></div>
</div>
</div>
<div class="section" id="reservation-interface-extension">
<h2>4.3.6. Reservation Interface (extension)<a class="headerlink" href="#reservation-interface-extension" title="Permalink to this headline">¶</a></h2>
<p>Our previous reservation was done in an unlimited fashion. However sometimes it is desirable to actually reserve a provisioning at a given time. This can be achieved while augmenting the policies with a time interval. Thus the command:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admin policy i[001-003] --users=gregor --start=&lt;time_start&gt; --end=&lt;time_end&gt;
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain admin policy -n 5 --users=gregor --start=&lt;time_start&gt; --end=&lt;time_end&gt;
</pre></div>
</div>
<p>will define a reservation of three hosts for the user gergor for the given time. An error will occur if this reservation can not be conducted during that time.</p>
<p>The time is specified in the following format yyyy/mm/dd hh:mm:ss</p>
<p>Please note that the definition of using seconds may not be implemented and due to recovering resources from others, may take some time. We are working towards padding reservations at the end so that they become very close available defined by the reservation.</p>
<p>Free resources can be identified by simply asking the list function and specifying the start and end times. Thus:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain list --start=&lt;time_start&gt; --end=&lt;time_end&gt;
</pre></div>
</div>
<p>wil list me the available resources between thise time, note however that they may be restricted by additional policies and if so you will only get back resources that fulfill your user and project memberships.</p>
<p>If you use the display option a nice image is create in the file with the given name:</p>
<div class="highlight-python"><div class="highlight"><pre>cm&gt; rain list display file.png
</pre></div>
</div>
<p>It is similar to a gantt chart showing resrevations by users, projects, and groups.</p>
</div>
<div class="section" id="time-format">
<h2>4.3.7. Time Format<a class="headerlink" href="#time-format" title="Permalink to this headline">¶</a></h2>
<p>Examples</p>
<ul class="simple">
<li>2h32m</li>
<li>3d2h32m</li>
<li>1w3d2h32m</li>
<li>1w 3d 2h 32m</li>
<li>1 w 3 d 2 h 32 m</li>
<li>4:13</li>
<li>4:13:02</li>
<li>4:13:02.266</li>
<li>2:04:13:02.266</li>
<li>2 days,  4:13:02 (uptime format)</li>
<li>2 days,  4:13:02.266</li>
<li>5hr34m56s</li>
<li>5 hours, 34 minutes, 56 seconds</li>
<li>5 hrs, 34 mins, 56 secs</li>
<li>2 days, 5 hours, 34 minutes, 56 seconds</li>
<li>1.2 m</li>
<li>1.2 min</li>
<li>1.2 mins</li>
<li>1.2 minute</li>
<li>1.2 minutes</li>
<li>172 hours</li>
<li>172 hr</li>
<li>172 h</li>
<li>172 hrs</li>
<li>172 hour</li>
<li>1.24 days</li>
<li>5 d</li>
<li>5 day</li>
<li>5 days</li>
<li>5.6 wk</li>
<li>5.6 week</li>
<li>5.6 weeks</li>
</ul>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2015, 2014, 2013, Gregor von Laszewski.<br/>
    </p>
  </div>
</footer>
  </body>
</html>
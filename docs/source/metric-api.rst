CloudMesh Metric API
====================

CloudMesh Metric provides usage statistics via REST API. The URI of Metric can be defined in cloudmesh_server.yaml under cloudmesh.server.metric.host and cloudmesh.server.metric.port.

Authentication
--------------
There is no authentication to obtain usage statistics at this time. We might apply a proxy server (e.g. nginx) or OAuth authentication later, if it needed. Token based or password based authentication can also be considered.

API Requests
-------------
/metric/<cloudname>/<hostname>/<username>/<metric>/<timestart-YYYYMMDD>/<timeend-YYYYMMDD>/<period-monthly|weekly|daily>/<projectid>

- e.g. http://129.79.135.80:5001/metric/openstack/india/None/vmcount/20140101/20141231/monthly/82

Example
-------
All Usage Statistics for the fg82 project

{'default': ({'VMCOUNT': 4616L, 'CLOUDNAME': 'eucalyptus', 'YEAR MONTH': '2012 May'}, {'VMCOUNT': 21L, 'CLOUDNAME': 'eucalyptus', 'YEAR MONTH': '2012 Jun'}, {'VMCOUNT': 326L, 'CLOUDNAME': 'eucalyptus', 'YEAR MONTH': '2012 Jul'}, {'VMCOUNT': 29L, 'CLOUDNAME': 'eucalyptus', 'YEAR MONTH': '2012 Aug'}, {'VMCOUNT': 76L, 'CLOUDNAME': 'eucalyptus', 'YEAR MONTH': '2012 Sep'}, {'VMCOUNT': 172L, 'CLOUDNAME': 'eucalyptus', 'YEAR MONTH': '2012 Oct'}, {'VMCOUNT': 25L, 'CLOUDNAME': 'eucalyptus', 'YEAR MONTH': '2012 Nov'}, {'VMCOUNT': 4L, 'CLOUDNAME': 'eucalyptus', 'YEAR MONTH': '2012 Dec'}, {'VMCOUNT': 3L, 'CLOUDNAME': 'eucalyptus', 'YEAR MONTH': '2013 Jan'}, {'VMCOUNT': 12L, 'CLOUDNAME': 'eucalyptus', 'YEAR MONTH': '2013 Feb'}, {'VMCOUNT': 22L, 'CLOUDNAME': 'eucalyptus', 'YEAR MONTH': '2013 Mar'}, {'VMCOUNT': 3L, 'CLOUDNAME': 'eucalyptus', 'YEAR MONTH': '2013 Apr'}, {'VMCOUNT': 2L, 'CLOUDNAME': 'eucalyptus', 'YEAR MONTH': '2013 Jun'}, {'VMCOUNT': 3L, 'CLOUDNAME': 'eucalyptus', 'YEAR MONTH': '2013 Jul'}, {'VMCOUNT': 13L, 'CLOUDNAME': 'eucalyptus', 'YEAR MONTH': '2013 Aug'}, {'VMCOUNT': 80L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2012 Jun'}, {'VMCOUNT': 38L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2012 Jul'}, {'VMCOUNT': 405L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2012 Aug'}, {'VMCOUNT': 579L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2012 Sep'}, {'VMCOUNT': 11L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2012 Oct'}, {'VMCOUNT': 13L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2012 Nov'}, {'VMCOUNT': 17L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2012 Dec'}, {'VMCOUNT': 54L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2013 Jan'}, {'VMCOUNT': 140L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2013 Feb'}, {'VMCOUNT': 146L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2013 Mar'}, {'VMCOUNT': 78L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2013 Apr'}, {'VMCOUNT': 165L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2013 May'}, {'VMCOUNT': 63L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2013 Jun'}, {'VMCOUNT': 762L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2013 Jul'}, {'VMCOUNT': 7L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2013 Aug'}, {'VMCOUNT': 18L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2013 Sep'}, {'VMCOUNT': 49L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2013 Oct'}, {'VMCOUNT': 199L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2013 Nov'}, {'VMCOUNT': 16L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2013 Dec'}, {'VMCOUNT': 80L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2014 Jan'}, {'VMCOUNT': 42L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2014 Feb'}, {'VMCOUNT': 3L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2014 Mar'}, {'VMCOUNT': 2L, 'CLOUDNAME': 'openstack', 'YEAR MONTH': '2014 Apr'}), 'project': ({'projectid': 82L, 'projectlead': 'Gregor von Laszewski', 'title': 'FG General Software Development'},), 'project-summary-extra': {'meta': {'groupby': 'hostname'}, 'objects': ({'count': 2143L, 'platform': 'nimbus', 'hostname': 'alamo', 'version': '2.9', 'cloudplatformidref': 5}, {'count': 634L, 'platform': 'nimbus', 'hostname': 'foxtrot', 'version': '2.9', 'cloudplatformidref': 6}, {'count': 13474L, 'platform': 'nimbus', 'hostname': 'hotel', 'version': '2.9', 'cloudplatformidref': 4}, {'count': 3352L, 'platform': 'eucalyptus', 'hostname': 'india', 'version': '3.0.2', 'cloudplatformidref': 2}, {'count': 8915L, 'platform': 'nimbus', 'hostname': 'sierra', 'version': '2.9', 'cloudplatformidref': 7})}, 'user-summary': {'meta': {'orderby': 'count', 'groupby': 'username'}, 'objects': ({'count': 3L, 'first_name': 'Heng', 'last_name': 'Chen'}, {'count': 3L, 'first_name': 'Andrew', 'last_name': 'Younge'}, {'count': 4L, 'first_name': 'Allan', 'last_name': 'Streib'}, {'count': 6L, 'first_name': 'meng', 'last_name': 'han'}, {'count': 19L, 'first_name': 'Shweta', 'last_name': 'Patil'}, {'count': 22L, 'first_name': 'Sridhar', 'last_name': 'Rajagopalan'}, {'count': 30L, 'first_name': 'Gregor', 'last_name': 'von Laszewski'}, {'count': 31L, 'first_name': 'Fugang', 'last_name': 'Wang'}, {'count': 36L, 'first_name': 'Heshan', 'last_name': 'Suriyaarachchi'}, {'count': 144L, 'first_name': 'Pushkar', 'last_name': 'Joshi'}, {'count': 173L, 'first_name': 'Sharif', 'last_name': 'Islam'}, {'count': 1170L, 'first_name': 'Javier', 'last_name': 'Diaz Montes'}, {'count': 2167L, 'first_name': 'Koji', 'last_name': 'Tanaka'}, {'count': 4486L, 'first_name': 'Xiuwen', 'last_name': 'Yang'})}, 'project-summary': {'meta': {'groupby': 'hostname'}, 'objects': ({'count': 7983L, 'platform': 'eucalyptus', 'hostname': 'india', 'version': '3.0.2', 'cloudplatformidref': 2}, {'count': 311L, 'platform': 'eucalyptus', 'hostname': 'sierra', 'version': '3.0.2', 'cloudplatformidref': 3})}}

